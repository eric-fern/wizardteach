(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{"1nAM":function(t,e){t.exports=Swiper},9:function(t,e,i){t.exports=i("QGtm")},GOA2:function(t,e){t.exports=Snap},QGtm:function(t,e,i){"use strict";i.r(e);i("WKyf"),i("EFTy"),i("Nqhn"),i("1scx"),i("Sebz"),i("9gS/"),i("zAwH");var a=i("qmzS"),o=(i("tb0R"),i("BTzG"),i("mpQ3"),i("PDvU"),i("Valx"),i("fVeg"),i("oblO"),i("dQ1r"),i("bOW6"),i("O2cT"),i("0FUK")),n=(i("HijD"),i("zr5I")),c=i.n(n),r=i("YLtl"),s=i("WIBD"),l=i("Z2y4"),u=i("0Xom");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(o.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var g=i("wy2R");new VueExtend({components:{SimpleAvatar:l.a},computed:d({},Object(s.mapGetters)(["user"]),{isAdmin:function(){var t;return null===(t=this.user)||void 0===t?void 0:t.is_admin},isHao:function(){return this.article.category===window.systeminc.SENQIJI||"改图神器"==this.article.category||"ImageAI"==this.article.category},isZh:function(){return"zh"==this.$i18n.locale},siteUri:function(){if(this.article.category===window.systeminc.SENQIJI)return"https://hao.logosc.cn/";if("改图神器"===this.article.category)return"https://img.logosc.cn/";var t="".concat(_.trim(this.systemInc.APP_URL,"/"),"/");return this.article.id?this.isZh?t:"".concat(t,"blog/"):"".concat(t).concat(this.suffix)},suffix:function(){return this.isHao?"":"en"===window.systemlang?"blog/":"sheji/"}}),created:function(){var t=this;"en"==window.systemlang&&this.article.url,this.populararticle=window.popular,this.isWxMini=Object(u.c)(),c.a.get("/api/links/2").then((function(e){t.LinkListContent=e.data.data})).catch((function(t){})),window.canAccess&&this.getArticles(),void 0!==this.articlecategories&&delete this.articlecategories.all,"/contentmanager"!==window.location.pathname||this.user&&(this.user.is_admin||window.systeminc.BLOG_EDITORS.includes(this.user.id))||(window.location.href="/")},data:function(){return{FROALA_EDITOR_KEY:window.FROALA_EDITOR_KEY,LinkListContent:[],activeArticleCategory:"all",amountTip:window.amountTip,article:{alt:"",author:"",authorAvatar:"",category:"",content:"",cover:"",created_at:"",id:"",publish:2,seo_keywords:"",title:"",url:""},articlecategories:window.categories,articles:[],cashbackHasMore:!0,cashbackList:[],cashbackPage:1,cashbackloading:!1,coupon:window.code,deleteTip:window.deleteTip,fileList:[],hasMoreData:!0,isEdit:!1,isWxMini:!1,isajaxing:!1,loginPwd:"",logoName:"",logonameisempty:!1,noResult:window.noResult,page:1,popularLoading:!1,populararticle:"",previewImgSrc:"",previewVisible:!1,systemInc:window.systeminc,usite:"logo",withdrawVisible:!1}},el:"#app",methods:{changeArticleCategory:function(t){t||(this.article.url=this.article.category==window.systeminc.SENQIJI||"改图神器"==this.article.category||"ImageAI"==this.article.category?"a/":"",this.$refs.articleURL.$refs.input.focus(),this.$refs.articleURL.$refs.input.className="red el-input__inner")},checkRULExist:function(){var t=this;""!=this.article.url&&c.a.post("/articles/checkRULExist",{category:this.article.category,id:this.article.id,url:this.article.url}).then((function(e){e.data.count>0?(t.$message.error("URL已经存在！"),t.$refs.articleURL.$refs.input.className="red el-input__inner"):t.$refs.articleURL.$refs.input.className="el-input__inner"})).catch((function(t){}))},delArticle:function(t){var e=this;this.$confirm(this.$i18n.t("common.suretodelete"),this.$i18n.t("elementUI.warning"),{cancelButtonText:this.$i18n.t("elementUI.cancelText"),confirmButtonText:this.$i18n.t("elementUI.okText"),type:"warning"}).then((function(){c.a.delete("/articles/".concat(e.articles[t].id)).then((function(i){e.$message.success(e.$i18n.t("common.succeed")),e.articles.splice(t,1)})).catch((function(t){}))})).catch((function(){}))},deleteAdminOperation:function(t,e){var i=this;this.$confirm("".concat(this.deleteTip),this.$i18n.t("elementUI.warning"),{cancelButtonText:this.$i18n.t("elementUI.cancelText"),confirmButtonText:this.$i18n.t("elementUI.okText"),type:"warning"}).then((function(){c.a.post("/api/coupon/remove/".concat(i.coupon,"/").concat(e)).then((function(e){var a=e.data,o=a.msg;a.status?(i.$message.success(o),i.cashbackList.splice(t,1)):i.$message.error(o)})).catch((function(t){}))})).catch((function(t){}))},doCancel:function(){window.close()},doCreate:function(){""!=this.logoName&&null!=this.logoName?"zh"==this.$i18n.locale?window.location.href="/start?name=".concat(this.logoName):(this.logoName=this.logoName.replaceAll("&","¥"),window.location.href="/generate?name=".concat(this.logoName)):this.logonameisempty=!0},doDeleteArticle:function(t){var e=this;this.$confirm(this.$i18n.t("common.suretodelete"),this.$i18n.t("elementUI.warning"),{cancelButtonText:this.$i18n.t("elementUI.cancelText"),confirmButtonText:this.$i18n.t("elementUI.okText"),type:"warning"}).then((function(){c.a.delete("/articles/".concat(t)).then((function(t){e.$message.success(e.$i18n.t("common.succeed")),setTimeout((function(){window.close()}),3e3)})).catch((function(t){}))})).catch((function(){}))},doLogin:function(){var t=this;""!=this.loginPwd&&(this.isajaxing=!0,c.a.post("/articleLogin",{password:this.loginPwd}).then((function(e){t.isajaxing=!1,window.location.reload()})).catch((function(t){})))},doSubmit:function(){var t=this;if(""!=this.article.title)if("en"!=window.systemlang||"Blog"!=this.article.category||""!=this.article.url){if(""==this.article.category){if("en"!=window.systemlang)return void this.$message.error("文章分类不能为空");this.$set(this.article,"category","Blog")}if(this.article.content=void 0===document.querySelector("#blogeditor")?ueditor.getContent():jQuery("#blogeditor").froalaEditor("html.get",!0),""!=this.article.content)if(this.article.created_at&&(this.article.created_at=g(this.article.created_at).format("YYYY-MM-DD HH:mm:ss")),this.article.url="".concat(_.trimStart(this.article.url,"/")),this.isajaxing=!0,this.article.id>0){var e=_.cloneDeep(this.article);this.isZh||"Blog"!==this.article.category||(e.url="blog/".concat(e.url)),c.a.put("/articles/".concat(this.article.id),e).then((function(e){t.isajaxing=!1,200==e.data.code?(t.$message.success(t.$i18n.t("common.succeed")),t.article.summary=e.data.data.summary):t.$message.error(e.data.msg)})).catch((function(e){t.isajaxing=!1}))}else c.a.post("/articles",d({},this.article,{url:"".concat(this.suffix).concat(this.article.url)})).then((function(e){t.isajaxing=!1,200==e.data.code?t.$message.success(t.$i18n.t("common.succeed")):t.$message.error(e.data.msg);var i="/".concat(e.data.data.url);t.article.category==window.systeminc.SENQIJI?i="https://hao.logosc.cn/".concat(e.data.data.url):"改图神器"==t.article.category?i="https://img.logosc.cn/".concat(e.data.data.url):"ImageAI"==t.article.category?i="https://img.logoai.com/".concat(e.data.data.url):"AiLOGO"==t.article.category&&(i="https://ai.logo123.com/".concat(e.data.data.url)),window.location.href=i})).catch((function(e){t.isajaxing=!1}));else this.$message.error("文章内容不能为空")}else this.$message.error("文章URL不能为空");else this.$message.error("文章标题不能为空")},fileUploaded:function(t,e,i){var a;if(this.article.cover=t.url,!(null==this||null===(a=this.article)||void 0===a?void 0:a.alt)){var o,n,c,r,s=null==t||null===(o=t.url)||void 0===o||null===(n=o.split("/"))||void 0===n||null===(c=n.pop())||void 0===c?void 0:c.split(".");s.pop(),(s=null===(r=s.join("."))||void 0===r?void 0:r.split("-")).pop(),this.article.alt=s.join("-")}},getArticleById:function(){var t=this;return new Promise((function(e,i){c.a.get("/articles/".concat(window.current_article_id)).then((function(i){i.data.publish=Number.parseInt(i.data.publish||1),t.article=i.data,t.isZh||(t.article.url=t.article.url.replace("blog/","")),""==t.article.cover||(t.fileList.push({name:t.article.cover,url:"/".concat(t.article.cover)}),t.hideUploader()),i.data.editor?t.article.authorAvatar=i.data.editor.cover?"/".concat(Object(r.trimStart)(i.data.editor.cover,"/")):"":t.article.authorAvatar="",e(i.data.content)})).catch((function(t){i()}))}))},getArticles:function(){var t=this;this.isajaxing=!0,c.a.get("/articles?page=".concat(this.page,"&category=").concat(this.activeArticleCategory)).then((function(e){if(t.isajaxing=!1,e.data&&e.data.length>0){var i=!0,o=!1,n=void 0;try{for(var c,s=e.data.entries()[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=Object(a.a)(c.value,2),u=(l[0],l[1]);u.host=t.getHost(u.category),u.editor?u.authorAvatar=u.editor.cover?"/".concat(Object(r.trimStart)(u.editor.cover,"/")):"":u.authorAvatar="",t.articles.push(u)}}catch(t){o=!0,n=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw n}}t.page++,t.hasMoreData=!0}else t.hasMoreData=!1})).catch((function(e){t.isajaxing=!1}))},getHost:function(t){return this.isZh?t==window.systeminc.SENQIJI?"https://hao.logosc.cn/":"改图神器"==t?"https://img.logosc.cn/":"AiLOGO"==t?"https://ai.logo123.com/":"https://www.logosc.cn/":this.isZh||"ImageAI"!==t?"https://www.logoai.com/":"https://img.logoai.com/"},handlePreview:function(t){var e;this.previewImgSrc=_.trim((null==t||null===(e=t.response)||void 0===e?void 0:e.url)||(null==t?void 0:t.url),"/"),this.previewVisible=!0},handleRemove:function(t,e){this.article.cover="",document.querySelector(".el-upload--picture-card").style.display="block"},hideUploader:function(){document.querySelector(".el-upload--picture-card").style.display="none"},initCashbackList:function(){var t=this;this.cashbackloading=!0,c.a.get("/coupon/getCashback?coupon=".concat(this.coupon,"&page=").concat(this.cashbackPage)).then((function(e){if(t.cashbackloading=!1,e.data.status){if(e.data.list&&e.data.list.length>0){var i=!0,a=!1,o=void 0;try{for(var n,c=e.data.list[Symbol.iterator]();!(i=(n=c.next()).done);i=!0){var r=n.value;t.cashbackList.push(r)}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}t.cashbackPage++,t.cashbackHasMore=!0}}else t.cashbackHasMore=!1,t.$message.warning(e.data.msg)}))},previewPanelClosed:function(t){this.previewImgSrc="",t()},resetCashback:function(){this.cashbackList=[],this.cashbackHasMore=!0,this.cashbackloading=!1,this.cashbackPage=1},resetForm:function(){this.article.id="",this.article.title="",this.article.url="",this.article.author="",this.article.content="",this.article.created_at="",this.article.alt=""},setPopular:function(){var t=this;this.popularLoading=!0,c.a.post("/articles/setPopular",{id:this.populararticle}).then((function(e){t.popularLoading=!1,t.populararticle=e.data})).catch((function(t){}))},startCashbackList:function(){this.resetCashback(),this.initCashbackList()},switchArticleCategory:function(){this.page=1,this.articles=[],this.getArticles()},withdraw:function(){var t=this,e=window.prompt(this.amountTip,"");null!==e&&""!==e&&c.a.post("/api/coupon/withdraw/".concat(this.coupon),{withdrawAmount:e}).then((function(e){var i=e.data,a=i.msg;i.status?(t.$message.success(a),t.startCashbackList()):t.$message.error(a)})).catch((function(t){}))}},mounted:function(){var t=this;t.isEdit=window.current_article_id>0,this.user&&!this.isEdit&&(this.article.author=this.user.name,this.article.authorAvatar=this.user.cover),this.isZh||t.isEdit||(this.article.category="Blog"),window.current_article_id>0?this.getArticleById().then((function(e){void 0===document.querySelector("#blogeditor")?ueditor=UE.getEditor("ueeditor",{allowDivTransToP:!1,initialContent:e,initialFrameHeight:700,lang:window.editor_lang,toolbars:[["source","bold","italic","underline","forecolor","backcolor","|","paragraph","fontfamily","fontsize","|","justifyleft","justifyright","justifycenter","justifyjustify","|","link","unlink","fullscreen","|","simpleupload","insertimage","|","removeformat"]]}):(jQuery("#blogeditor").on("froalaEditor.initialized",(function(t,i){jQuery("#blogeditor").froalaEditor("html.set",e)})),jQuery("#blogeditor").froalaEditor({heightMax:9e7,heightMin:800,imageUploadURL:"/article/upload",inlineMode:!1,key:t.FROALA_EDITOR_KEY,requestHeaders:{"X-CSRF-TOKEN":window.Laravel.csrfToken},videoUploadURL:"/article/upload"}))})).catch((function(t){})):void 0!==document.querySelector("#blogeditor")&&jQuery("#blogeditor").froalaEditor({heightMax:9e7,heightMin:800,imageUploadURL:"/article/upload",inlineMode:!1,key:t.FROALA_EDITOR_KEY,requestHeaders:{"X-CSRF-TOKEN":window.Laravel.csrfToken},videoUploadURL:"/article/upload"})}})},WIBD:function(t,e){t.exports=Vuex},X3IP:function(t,e){t.exports=ELEMENT},YLtl:function(t,e){t.exports=window._},hbNs:function(t,e){t.exports=VueI18n},"i7/w":function(t,e){t.exports=Vue},kjbw:function(t,e){t.exports=VueLazyload},oBMO:function(t,e){t.exports=opentype},wy2R:function(t,e){t.exports=moment},zr5I:function(t,e){t.exports=axios}},[[9,0,1]]]);